<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    <h1><%= title %></h1>
    <p>Welcome to <%= title %></p>
    <canvas id="myChart" style="width: 60%;height: 60%"></canvas>

  </body>
<script>
  var ws = new WebSocket('ws://localhost:1888');
  ws.binaryType = 'arraybuffer';
  ws.onopen = function() {
    console.log('open');
  }
  ws.onmessage = function (evt) {
    console.log(evt.data);
    var text = `<li>${evt.data}</li>`;
    // $('#tada').append(text);
    console.log(evt.data);
  }

  var ctx = document.getElementById('myChart').getContext('2d');
  var chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'line',

    // The data for our dataset
    data: {
      labels: ['0', '9:32 am', 'March', 'April', 'May', 'June', 'July'],
      datasets: [{
        label: 'My First dataset',
        backgroundColor: 'rgb(255, 99, 132)',
        borderColor: 'rgb(255, 99, 132)',
        data: [0, 10,20,21,22,23,24]
      }]
    },

    // Configuration options go here
    options: {}
  });
</script>
</html>
